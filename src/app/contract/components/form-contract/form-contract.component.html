<form class="form" [formGroup]="form" (ngSubmit)="submit()">
    <h1>Заключение договора</h1>

    <div class="wrapper_content">

        <div class="client">
            <h2>Клиент</h2>
            <app-card-client [data]="contractService.currentClient" />
        </div>
        
        <div class="permit">
            <h2>Путёвка</h2>
    
            <div class="wrapper_permit" *ngIf="contractService.currentPermit">
                <app-card-permit [data]="contractService.currentPermit" />
            </div>
            
            <div class="form-group_error" *ngIf="permit?.invalid && isSubmit">
                <span *ngIf="permit?.errors?.['required']">Необходмо выбрать путёвку</span>
            </div>
        </div>
    
        
        <div class="permits">
            <h2>Список путёвок</h2>
            <div class="list">
                <div 
                    class="list_item" *ngFor="let permit of permitService.listPermit"
                    (click)="contractService.currentPermit = permit"
                >
                    <label>
                        <app-card-permit [data]="permit" />
                        <input type="radio" [value]="permit.id!" formControlName="permit">
                    </label>
                </div>
            </div>
        </div>
    </div>

    
    <div class="form-group-button">
        <button class="form-button primary">Подтвердить</button>
        <button class="form-button" type="reset" (click)="modalWindowService.close()">Отменить</button>
    </div>
</form>
